<launch> 
	<arg name="machine" default="localhost" />
	<arg name="user" default="" />
  <arg name="tf_prefix" default="" />


    <machine name="$(arg machine)" address="$(arg machine)" env-loader="$(optenv ROS_ENV_LOADER )" user="$(arg user)" default="true" />

    <!-- Robot -->
    <arg name="urdf_file" default="$(find xacro)/xacro.py '$(find scitos_description)/urdf/scitos.xacro'" />
    <param name="robot_description" command="$(arg urdf_file)" />
    
    <group ns="robot">
      <param name="robot_description" command="$(arg urdf_file)" />
<!--    <param name="robot_description" command="cat $(find scitos_description)/urdf/scitos.urdf"/> -->

      <!-- Joint state publisher to accumulate joints -->
      <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher" respawn="true">
        <!-- include the pan/tilt unit joint states -->
        <rosparam param="source_list">[/ptu/state]</rosparam>
      </node>

      <node name="robot_state_publisher" pkg="robot_state_publisher" type="state_publisher" respawn="true">
        <param name="tf_prefix" value="$(arg tf_prefix)" />
      </node>
    </group>

    <node pkg="robot_pose_publisher" type="robot_pose_publisher" name="robot_pose_publisher" respawn="true"/>

    <!-- <node pkg="calibrate_chest" type="chest_calibration_publisher" name="chest_calibration_publisher" output="screen"/> -->

</launch>
